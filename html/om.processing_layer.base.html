<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The base Module &#8212; OM 20.08.0.0dev documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/my-styles.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script src="_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The crystallography Module" href="om.processing_layer.crystallography.html" />
    <link rel="prev" title="The processing_layer Package" href="om.processing_layer.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          OM</a>
        <span class="navbar-text navbar-version pull-left"><b>20.08.0.0dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="documentation_what_is_an_om_monitor.html">What is OM?</a></li>
                <li><a href="documentation_running_om.html">Running OM</a></li>
                <li><a href="documentation_advanced_documentation.html">Advanced Documentation</a></li>
                <li><a href="https://github.com/omdevteam/om">Source Code</a></li>
            
            
              
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p>[<a class="reference internal" href="om.html"><span class="doc">Back to top of code documentation</span></a>]</p>
<div class="section" id="module-om.processing_layer.base">
<span id="the-base-module"></span><h1>The base Module<a class="headerlink" href="#module-om.processing_layer.base" title="Permalink to this headline">¶</a></h1>
<p>Monitor base class.</p>
<p>This module contains the abstract class that defines an OM monitor.</p>
<dl class="py class">
<dt id="om.processing_layer.base.OmMonitor">
<em class="property">class </em><code class="sig-name descname">OmMonitor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">monitor_parameters</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/om/processing_layer/base.html#OmMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#om.processing_layer.base.OmMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base class for an OM Monitor</p>
<p>The OM monitor performs the scientific data processing. It implements functions
to process retrieved data on the processing nodes, to aggregate data on the
processing nodes and, optionally, to perform some end-of-processing tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>monitor_params</strong> (<a class="reference internal" href="om.utils.parameters.html#om.utils.parameters.MonitorParams" title="om.utils.parameters.MonitorParams"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitorParams</span></code></a>) – an object
storing the OM monitor parameters from the configuration file.</p>
</dd>
</dl>
<dl class="py method">
<dt id="om.processing_layer.base.OmMonitor.initialize_node">
<em class="property">abstract </em><code class="sig-name descname">initialize_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">role</span></em>, <em class="sig-param"><span class="n">rank</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/om/processing_layer/base.html#OmMonitor.initialize_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#om.processing_layer.base.OmMonitor.initialize_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes an OM node.</p>
<p>Performs initialization of an OM node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em>) – the OM role of the current node (‘processing’ or ‘collecting’).</p></li>
<li><p><strong>rank</strong> (<em>int</em>) – the OM rank of the current node, which is an integer that
unambiguously identifies the current node in the OM node pool.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="om.processing_layer.base.OmMonitor.process_data">
<em class="property">abstract </em><code class="sig-name descname">process_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">role</span></em>, <em class="sig-param"><span class="n">rank</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/om/processing_layer/base.html#OmMonitor.process_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#om.processing_layer.base.OmMonitor.process_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a single frame in a data event.</p>
<p>The function that each processing node will invoke on every frame in a data
event. The function receives as input a dictionary storing the retrieved data
for the frame being processed. The output of the function, storing the
processed data, will be transferred to the collecting node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em>) – the OM role of the current node (‘processing’ or ‘collecting’).</p></li>
<li><p><strong>rank</strong> (<em>int</em>) – the OM rank of the current node, which is an integer that
unambiguously identifies the current node in the OM node pool.</p></li>
<li><p><strong>data</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – <p>a dictionary containing the data retrieved by
OM for the frame being processed.</p>
<ul>
<li><p>The dictionary keys must match the entries in the ‘required_data’
list found in the ‘om’ configuration parameter group.</p></li>
<li><p>The corresponding dictionary values must store the retrieved data.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple whose first entry is a dictionary storing the
data that should be sent to the collecting node, and whose second entry is
the OM rank number of the node that processed the information.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[Dict, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="om.processing_layer.base.OmMonitor.collect_data">
<em class="property">abstract </em><code class="sig-name descname">collect_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">role</span></em>, <em class="sig-param"><span class="n">rank</span></em>, <em class="sig-param"><span class="n">processed_data</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/om/processing_layer/base.html#OmMonitor.collect_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#om.processing_layer.base.OmMonitor.collect_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The function that the collecting node will invoke every time data is
transferred from a processing node. The function accepts as input the
processed data received from the processing node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em>) – the OM role of the current node (‘processing’ or ‘collecting’).</p></li>
<li><p><strong>rank</strong> (<em>int</em>) – the OM rank of the current node, which is an integer that
unambiguously identifies the current node in the OM node pool.</p></li>
<li><p><strong>processed_data</strong> (<em>Tuple</em><em>[</em><em>Dict</em><em>, </em><em>int</em><em>]</em>) – a tuple whose first entry is a
dictionary storing the data received from a processing node, and whose
second entry is the OM rank number of the node that processed the
information.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="om.processing_layer.base.OmMonitor.end_processing">
<code class="sig-name descname">end_processing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">role</span></em>, <em class="sig-param"><span class="n">rank</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/om/processing_layer/base.html#OmMonitor.end_processing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#om.processing_layer.base.OmMonitor.end_processing" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes end-of-processing actions.</p>
<p>This function is called by the parallelization engine on the processing and
collecting nodes at the end of the processing, immediately before stopping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>role</strong> (<em>str</em>) – the OM role of the current node (‘processing’ or ‘collecting’).</p></li>
<li><p><strong>rank</strong> (<em>int</em>) – the OM rank of the current node, which is an integer that
unambiguously identifies the current node in the OM node pool.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 
    2020 SLAC National Accelerator Laboratory -
    Based on OnDA: Copyright 2014-2019 Deutsches Elektronen-Synchrotron DESY,
    a research centre of the Helmholtz Association
.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>