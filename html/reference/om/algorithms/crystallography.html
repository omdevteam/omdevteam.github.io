
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>crystallography &#8212; OM 23.8.2 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.min.css?v=6e7d0de0" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/pointer.css?v=c97663ff" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=7b61d2a3" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/documentation_options.js?v=3ec624b9"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js?v=f0ca4bb6"></script>
    <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js?v=12818e64"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/om/algorithms/crystallography';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="generic" href="generic.html" />
    <link rel="prev" title="common" href="common.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">OM: Online Monitor</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../configuration.html">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../advanced.html">
    Advanced
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../development_team.html">
    Development Team
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="../../index.html">
    API Documentation
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../configuration.html">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../advanced.html">
    Advanced
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../development_team.html">
    Development Team
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    API Documentation
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">API Documentation</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">om</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">algorithms</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">crystallography</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-om.algorithms.crystallography">
<span id="crystallography"></span><h1>crystallography<a class="headerlink" href="#module-om.algorithms.crystallography" title="Link to this heading">#</a></h1>
<p>Algorithms for the processing of crystallography data.</p>
<p>This module contains algorithms that perform data processing operations for Serial
Crystallography. Additionally, it contains the definitions of several typed
dictionaries that store data produced or required by these algorithms.</p>
<dl class="py class">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Peakfinder8PeakDetection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius_pixel_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection" title="Link to this definition">#</a></dt>
<dd><p>Peakfinder8 algorithm for peak detection.</p>
<p>This algorithm stores all the parameters required to detect Bragg peaks in a
detector data frame using the <cite>peakfinder8</cite> strategy, described in the
following publication:</p>
<blockquote>
<div><p>A. Barty, R. A. Kirian, F. R. N. C. Maia, M. Hantke, C. H. Yoon,
T. A. White, and H. N. Chapman, “Cheetah: software for high-throughput
reduction and analysis of serial femtosecond x-ray diffraction data”,
J Appl  Crystallogr, vol. 47, pp. 1118-1131 (2014).</p>
</div></blockquote>
<p>After the algorithm has been initialized, it can be invoked to detect peaks in
a data frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius_pixel_map</strong> (<em>ndarray</em><em>[</em><em>Any</em><em>, </em><em>dtype</em><em>[</em><em>float64</em><em>]</em><em>]</em>) – <p>A pixel map storing radius information for the detector
data frame on which the algorithm is applied.</p>
<ul>
<li><p>The array must have the same shape as the data frame on which the
algorithm is applied.</p></li>
<li><p>Each element of the array must store, for the corresponding pixel in
the data frame, its distance (in pixels) from the origin of the
detector reference system (usually the center of the detector).</p></li>
</ul>
</p></li>
<li><p><strong>layout_info</strong> (<a class="reference internal" href="../lib/geometry.html#om.lib.geometry.DetectorLayoutInformation" title="om.lib.geometry.DetectorLayoutInformation"><em>DetectorLayoutInformation</em></a>) – An object storing information about the internal layout of the
detector data frame on which the algorithm is applied (number and size
of ASICs, etc.).</p></li>
<li><p><strong>parameters</strong> (<a class="reference internal" href="../lib/parameters.html#om.lib.parameters.Peakfinder8PeakDetectionParameters" title="om.lib.parameters.Peakfinder8PeakDetectionParameters"><em>Peakfinder8PeakDetectionParameters</em></a>) – <p>A set of OM configuration parameters collected together in a
parameter group. The parameter group must contain the following
entries:</p>
<ul>
<li><p><cite>max_num_peaks</cite>: The maximum number of peaks that the algorithm
should retrieve from each  data frame. Additional peaks will be
ignored.</p></li>
<li><p><cite>adc_threshold</cite>: The minimum ADC threshold for peak detection.</p></li>
<li><p><cite>minimum_snr</cite>: The minimum signal-to-noise ratio for peak detection.</p></li>
<li><p><cite>min_pixel_count</cite>: The minimum size of a peak in pixels.</p></li>
<li><p><cite>max_pixel_count</cite>: The maximum size of a peak in pixels.</p></li>
<li><p><cite>local_bg_radius</cite>: The radius, in pixels, for the estimation of the
local background.</p></li>
<li><p><cite>min_res</cite>: The minimum distance at which a peak can be located, in
pixels, from the center of the detector.</p></li>
<li><p><cite>max_res</cite>: The maximum distance at which a peak can be located, in
pixels, from the center of the detector.</p></li>
<li><p><cite>bad_pixel_map_filename</cite>: The relative or absolute path to an HDF5
file containing a bad pixel map. The map can be used to exclude
regions of the data frame from the peak search. If the value of this
entry is None, the peak search extends to the full frame. Defaults
to None.</p>
<ul>
<li><p>The map must be a numpy array with the same shape as the data
frame on which the algorithm is applied.</p></li>
<li><p>Each pixel in the map must have a value of either 0, meaning that
the corresponding pixel in the data frame should be ignored, or
1, meaning that the corresponding pixel should be included in the
peak search.</p></li>
<li><p>The map is only used to exclude areas from the peak search: the
data is not modified in any way.</p></li>
</ul>
</li>
<li><p><cite>bad_pixel_map_hdf5_path</cite>: The internal HDF5 path to the data block
where the bad pixel map data is located. Defaults to None.</p>
<ul>
<li><p>If the <cite>bad_pixel_map_filename</cite> entry is not None, this entry
must also be provided, and cannot be None. Otherwise it is
ignored.</p></li>
</ul>
</li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_layout_info">
<span class="sig-name descname"><span class="pre">set_layout_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout_info</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_layout_info" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>layout_info</strong> (<a class="reference internal" href="../lib/geometry.html#om.lib.geometry.DetectorLayoutInformation" title="om.lib.geometry.DetectorLayoutInformation"><em>DetectorLayoutInformation</em></a>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_bad_pixel_map">
<span class="sig-name descname"><span class="pre">get_bad_pixel_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_bad_pixel_map" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>ndarray</em>[<em>Any</em>, <em>dtype</em>[<em>int64</em>]] | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_bad_pixel_map">
<span class="sig-name descname"><span class="pre">set_bad_pixel_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bad_pixel_map</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_bad_pixel_map" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bad_pixel_map</strong> (<em>ndarray</em><em>[</em><em>Any</em><em>, </em><em>dtype</em><em>[</em><em>int64</em><em>]</em><em>] </em><em>| </em><em>None</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_radius_pixel_map">
<span class="sig-name descname"><span class="pre">set_radius_pixel_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius_pixel_map</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_radius_pixel_map" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>radius_pixel_map</strong> (<em>ndarray</em><em>[</em><em>Any</em><em>, </em><em>dtype</em><em>[</em><em>float64</em><em>]</em><em>]</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_adc_thresh">
<span class="sig-name descname"><span class="pre">get_adc_thresh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_adc_thresh" title="Link to this definition">#</a></dt>
<dd><p>Gets the minimum ADC threshold for peak detection.</p>
<p>This function returns the minimum ADC threshold currently used by the algorithm
to detect peaks.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The minimum ADC threshold currently used by the algorithm.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_adc_thresh">
<span class="sig-name descname"><span class="pre">set_adc_thresh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">adc_thresh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_adc_thresh" title="Link to this definition">#</a></dt>
<dd><p>Sets the current minimum ADC threshold for peak detection.</p>
<p>This function sets the minimum ADC threshold used by the algorithm to detect
peaks. Any future call to the
[<cite>find_peaks</cite>][om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks]
method will use, for the <cite>adc_thresh</cite> parameter, the value provided here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>adc_thresh</strong> (<em>float</em>) – The new value of the minimum ADC threshold for peak detection.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_minimum_snr">
<span class="sig-name descname"><span class="pre">get_minimum_snr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_minimum_snr" title="Link to this definition">#</a></dt>
<dd><p>Gets the current minimum signal-to-noise ratio for peak detection.</p>
<p>This function returns the minimum signal-to-noise ratio currently used by the
algorithm to detect peaks.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The minimum signal-to-noise ratio currently used by the algorithm.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_minimum_snr">
<span class="sig-name descname"><span class="pre">set_minimum_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_snr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_minimum_snr" title="Link to this definition">#</a></dt>
<dd><p>Sets the minimum signal-to-noise ratio for peak detection.</p>
<p>This function sets the minimum signal-to-noise ratio used by the algorithm to
detect peaks. Any future call to the
[<cite>find_peaks</cite>][om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks]
method will use, for the <cite>minimum_snr</cite> algorithm parameter, the value provided
here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>minimum_snr</strong> (<em>float</em>) – The new value of the minimum signal-to-noise ratio for peak
detection.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_min_pixel_count">
<span class="sig-name descname"><span class="pre">get_min_pixel_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_min_pixel_count" title="Link to this definition">#</a></dt>
<dd><p>Gets the current minimum size for a peak in pixels.</p>
<p>This function returns the minimum size, in pixels, that the algorithm currently
expects a peak to have.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current minimum size, in pixels, for a peak.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_min_pixel_count">
<span class="sig-name descname"><span class="pre">set_min_pixel_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_pixel_count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_min_pixel_count" title="Link to this definition">#</a></dt>
<dd><p>Sets the minimum size for a peak in pixels.</p>
<p>This function sets the minimum size, in pixels, that the algorithm expects a
peak to have. Any future call to the
[<cite>find_peaks</cite>][om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks]
method will use, for the <cite>min_pixel_count</cite> parameter, the value provided here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>min_pixel_count</strong> (<em>int</em>) – The new minimum size for a peak in pixels.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_max_pixel_count">
<span class="sig-name descname"><span class="pre">get_max_pixel_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_max_pixel_count" title="Link to this definition">#</a></dt>
<dd><p>Gets the current maximum size for a peak in pixels.</p>
<p>This function returns the maximum size, in pixels, that the algorithm currently
expects a peak to have.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current maximum size, in pixels, for a peak.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_max_pixel_count">
<span class="sig-name descname"><span class="pre">set_max_pixel_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_pixel_count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_max_pixel_count" title="Link to this definition">#</a></dt>
<dd><p>Sets the maximum size for a peak in pixels.</p>
<p>This function sets the maximum size, in pixels, that the algorithm expects a
peak to have. Any future call to the
[<cite>find_peaks</cite>][om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks]
method will use, for the <cite>max_pixel_count</cite> parameter, the value provided here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>max_pixel_count</strong> (<em>int</em>) – The new maximum size for a peak in pixels.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_local_bg_radius">
<span class="sig-name descname"><span class="pre">get_local_bg_radius</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_local_bg_radius" title="Link to this definition">#</a></dt>
<dd><p>Gets the radius, in pixels, currently used to estimate the local background.</p>
<p>This function returns the radius, in pixels, currently used by the algorithm to
estimate the local background.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The radius, in pixels, currently used for the estimation of the local
background.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_local_bg_radius">
<span class="sig-name descname"><span class="pre">set_local_bg_radius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_bg_radius</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_local_bg_radius" title="Link to this definition">#</a></dt>
<dd><p>Sets the radius, in pixels, for the estimation of the local background.</p>
<p>This function sets the radius, in pixels, used by the algorithm to estimate the
local background. Any future call to the
[<cite>find_peaks</cite>][om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks]
method will use, for the <cite>local_bg_radius</cite> parameter, the value provided here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_bg_radius</strong> (<em>int</em>) – The new radius, in pixels, to be used for the estimation
of the local background.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_min_res">
<span class="sig-name descname"><span class="pre">get_min_res</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_min_res" title="Link to this definition">#</a></dt>
<dd><p>Gets the minimum distance for a peak from the detector’s center in pixels.</p>
<p>This function returns the minimum distance from the center of the detector, in
pixels, that the algorithm currently expects a peak to have.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current minimum distance, in pixels, for a peak from the detector’s
center.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_min_res">
<span class="sig-name descname"><span class="pre">set_min_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_min_res" title="Link to this definition">#</a></dt>
<dd><p>Sets the minimum distance for a peak from the detector’s center in pixels.</p>
<p>This function sets the minimum distance from the center of the detector, in
pixels, that the algorithm expects a peak to have. Any future call to the
[<cite>find_peaks</cite>][om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks]
method will use, for the <cite>min_res</cite> parameter, the value provided here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>min_res</strong> (<em>int</em>) – The new minimum distance, in pixels, from the detector’s center
for a peak.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.get_max_res">
<span class="sig-name descname"><span class="pre">get_max_res</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_max_res" title="Link to this definition">#</a></dt>
<dd><p>Gets the maximum distance for a peak from the detector’s center in pixels.</p>
<p>This function returns the maximum distance from the center of the detector, in
pixels, that the algorithm currently expects a peak to have.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current maximum distance, in pixels, for a peak from the detector’s
center.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.set_max_res">
<span class="sig-name descname"><span class="pre">set_max_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_max_res" title="Link to this definition">#</a></dt>
<dd><p>Sets the maximum distance for a peak from the detector’s center in pixels.</p>
<p>This function sets the maximum distance from the center of the detector, in
pixels, that the algorithm expects a peak to have. Any future call to the
[<cite>find_peaks</cite>][om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks]
method will use, for the <cite>min_res</cite> parameter, the value provided here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>max_res</strong> (<em>int</em>) – The new maximum distance, in pixels, from the detector’s center
for a peak.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks">
<span class="sig-name descname"><span class="pre">find_peaks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks" title="Link to this definition">#</a></dt>
<dd><p>Finds peaks in a detector data frame.</p>
<p>This function detects peaks in a provided detector data frame, and returns
information about their location, size and intensity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>ndarray</em><em>[</em><em>Any</em><em>, </em><em>dtype</em><em>[</em><em>int64</em><em>]</em><em>] </em><em>| </em><em>ndarray</em><em>[</em><em>Any</em><em>, </em><em>dtype</em><em>[</em><em>float64</em><em>]</em><em>]</em>) – The detector data frame on which the peak-finding operation must be
performed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with information about the detected peaks.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="common.html#om.algorithms.common.PeakList" title="om.algorithms.common.PeakList"><em>PeakList</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_layout_info"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_layout_info()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_bad_pixel_map"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_bad_pixel_map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_bad_pixel_map"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_bad_pixel_map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_radius_pixel_map"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_radius_pixel_map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_adc_thresh"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_adc_thresh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_adc_thresh"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_adc_thresh()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_minimum_snr"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_minimum_snr()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_minimum_snr"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_minimum_snr()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_min_pixel_count"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_min_pixel_count()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_min_pixel_count"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_min_pixel_count()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_max_pixel_count"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_max_pixel_count()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_max_pixel_count"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_max_pixel_count()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_local_bg_radius"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_local_bg_radius()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_local_bg_radius"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_local_bg_radius()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_min_res"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_min_res()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_min_res"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_min_res()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.get_max_res"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.get_max_res()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.set_max_res"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.set_max_res()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#om.algorithms.crystallography.Peakfinder8PeakDetection.find_peaks"><code class="docutils literal notranslate"><span class="pre">Peakfinder8PeakDetection.find_peaks()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2026, OM Development Team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>